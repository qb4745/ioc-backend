# Development-specific properties
# This file is ignored by .gitignore and should NOT be committed.
# It overrides properties from application.properties for the 'dev' profile.

# ===================================================================
# CONFIGURACION LOCAL DE LA BASE DE DATOS (SUPABASE) - CORREGIDA
# ===================================================================
# CRITICO: Usar puerto 6543 (Transaction Mode) para evitar conexiones idle
spring.datasource.url=jdbc:postgresql://aws-1-sa-east-1.pooler.supabase.com:6543/postgres?reWriteBatchedInserts=true&prepareThreshold=0&preferQueryMode=simple
spring.datasource.username=postgres.bdyvzjpkycnekjrlqlfp
spring.datasource.password=LbUeZoP4f20lhlTg

# ===================================================================
# CONFIGURACION DE HIKARICP POOL - OPTIMIZADO PARA SUPABASE FREE TIER
# ===================================================================
# Limite de conexiones para desarrollo local (compartiendo el pool de Supabase)
spring.datasource.hikari.maximum-pool-size=3
spring.datasource.hikari.minimum-idle=1
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=540000
spring.datasource.hikari.keepalive-time=120000
spring.datasource.hikari.validation-timeout=5000
spring.datasource.hikari.leak-detection-threshold=60000

# ===================================================================
# CONFIGURACION DE SEGURIDAD (SUPABASE AUTH)
# ===================================================================
spring.security.oauth2.resourceserver.jwt.issuer-uri=https://bdyvzjpkycnekjrlqlfp.supabase.co/auth/v1

# ===================================================================
# CONFIGURACION DE METABASE EMBEDDING
# ===================================================================
metabase.secret-key=42cc18c4d202ab992899ba0bcc1ecb61c2f8601d388da11c25a25ef62b1a10e6

# Diagnostic: Change server port to verify profile is active
server.port=8080
