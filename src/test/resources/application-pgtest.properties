# Configuracin para tests con PostgreSQL (Testcontainers)
spring.jpa.hibernate.ddl-auto=update

# Supabase (valores de prueba)
supabase.url=http://localhost:54321
supabase.service-role-key=test-service-role-key-for-testing-only

# Metabase (valores de prueba)
metabase.secret-key=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef
metabase.site-url=http://localhost:3000
metabase.dashboards[0].id=1
metabase.dashboards[0].name=Test Dashboard
metabase.dashboards[0].allowed-roles=ROLE_USER,ROLE_ADMIN

# ETL
etl.lock.enabled=true
etl.retry.unique.enabled=false

# Logging
logging.level.org.springframework=WARN
logging.level.org.hibernate=WARN

# src/test/resources/application-pgtest.properties

# Database (configurado dinamicamente por Testcontainers)

# Metabase (valores de prueba)

metabase.token-expiration-minutes=10


metabase.dashboards[0].filters[0].name=user_id
metabase.dashboards[0].filters[0].type=USER_ATTRIBUTE
metabase.dashboards[0].filters[0].source=userId

# JWT Issuer
spring.security.oauth2.resourceserver.jwt.issuer-uri=https://test.supabase.co/auth/v1

# ETL Config
etl.duplicate.check.enabled=false
etl.duplicate.fail-on-detect=false

# Circuit Breaker (permisivo para tests)
resilience4j.circuitbreaker.configs.default.failureRateThreshold=100
resilience4j.circuitbreaker.configs.default.waitDurationInOpenState=1000ms

# Rate Limiter para AI Explanation (permisivo para tests)
resilience4j.ratelimiter.instances.aiExplanation.limit-for-period=1000
resilience4j.ratelimiter.instances.aiExplanation.limit-refresh-period=1s
resilience4j.ratelimiter.instances.aiExplanation.timeout-duration=0s
